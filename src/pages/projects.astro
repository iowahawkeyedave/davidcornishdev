---
import BaseLayout from "../layouts/BaseLayout.astro";
import { Image } from "astro:assets";

const projects = [
  {
    title: "Steam Roaster",
    img: "/projects/steam-roaster.webp",
    desc: "Interactive project deployed on Vercel with a clean, modern web experience.",
    url: "https://steam-roaster-rho.vercel.app/",
    repo: "https://github.com/iowahawkeyedave/steam-roaster",
    badge: "New",
    stack: ["Vercel", "Frontend", "Responsive UI"],
    accent: "#34d399",
  },
  {
    title: "Ganda's Remade",
    img: "/gandas.webp",
    desc: "Website for Ganda's, rebuilt using Astro, Tailwind CSS, Sass, and React.",
    url: "https://gandas.com/",
    badge: "Featured",
    stack: ["Astro", "React", "Tailwind"],
    accent: "#f59e0b",
  },
  {
    title: "haveagreatdave.dev",
    img: "/projects/haveagreatdave.svg",
    desc: "Created this current website using HTML, Astro, and Tailwind CSS.",
    url: "https://haveagreatdave.dev/",
    repo: "https://github.com/iowahawkeyedave/davidcornishdev",
    badge: "Personal",
    stack: ["Astro", "Tailwind", "Content Design"],
    accent: "#22c55e",
  },
  {
    title: "Tempest Weather Widget",
    img: "/projects/tempest-weather-dashboard.webp",
    desc: "Built a weather widget powered by a personal weather station and TempestWx API data.",
    url: "https://tempestweatherdashboard.onrender.com/",
    repo: "https://github.com/iowahawkeyedave/tempestweatherdashboard",
    badge: "Utility",
    stack: ["JavaScript", "API Integration", "CSS"],
    accent: "#38bdf8",
  },
  {
    title: "Ganda's",
    img: "/projects/gandas-wordpress.svg",
    desc: "Original business website for Ganda's built with WordPress.",
    url: "https://gandas.com/",
    badge: "WordPress",
    stack: ["WordPress", "SEO", "Client Delivery"],
    accent: "#f97316",
  },
  {
    title: "Cornish Tax",
    img: "/projects/cornish-tax.svg",
    desc: "Business website for Cornish Tax built with WordPress.",
    url: "https://cornishtax.com/",
    badge: "Business Site",
    stack: ["WordPress", "Performance", "Responsive"],
    accent: "#a78bfa",
  },
];
---

<BaseLayout title="Projects" sideBarActiveItemID="projects">
  <section class="project-hero relative overflow-hidden rounded-3xl border border-base-content/10 p-7 md:p-10 mb-8">
    <div class="project-hero-glow project-hero-glow-a"></div>
    <div class="project-hero-glow project-hero-glow-b"></div>
    <div class="relative z-10">
      <p class="tracking-[0.2em] uppercase text-xs md:text-sm font-semibold text-primary mb-3">Selected Work</p>
      <h1 class="text-4xl md:text-5xl font-extrabold mb-4">Projects</h1>
      <p class="max-w-3xl">
        Real-world builds focused on business outcomes, performance, and clean implementation. Each project is production-facing
        and optimized for usability.
      </p>
    </div>
  </section>

  <section class="grid gap-5 md:grid-cols-2">
    {
      projects.map((project) => {
        const hasImage = Boolean(project.img);
        const isSvg = hasImage && project.img.endsWith(".svg");
        return (
          <article class="project-card rounded-2xl border border-base-content/10 overflow-hidden" style={`--project-accent: ${project.accent}`}>
            <div class="p-5 pb-0">
              <div class="flex items-center justify-between gap-3 mb-4">
                <span class="badge badge-neutral">{project.badge}</span>
              </div>
              <h2 class="text-2xl font-bold mb-2">{project.title}</h2>
              <p class="mb-4">{project.desc}</p>
            </div>

            <div class="px-5 pb-5">
              <div class="project-image-wrap rounded-xl border border-base-content/10 p-3 mb-4">
                {!hasImage ? (
                  <div class="project-image-placeholder h-44 rounded-md flex items-center justify-center">
                    <span class="badge badge-ghost">Screenshot Coming Soon</span>
                  </div>
                ) : isSvg ? (
                  <img src={project.img} alt={project.title} loading="lazy" decoding="async" class="w-full h-44 object-contain" />
                ) : (
                  <Image src={project.img} width={750} height={422} format="webp" alt={project.title} class="w-full h-44 object-cover rounded-md" />
                )}
              </div>
              <div class="flex flex-wrap gap-2 mb-4">
                {project.stack.map((item) => <span class="badge badge-outline">{item}</span>)}
              </div>
              <div class="flex flex-wrap gap-2">
                <a href={project.url} target="_blank" rel="noopener noreferrer" class="btn btn-sm btn-primary">Visit Project</a>
                {project.repo && (
                  <a href={project.repo} target="_blank" rel="noopener noreferrer" class="btn btn-sm btn-outline">View Code</a>
                )}
              </div>
            </div>
          </article>
        );
      })
    }
  </section>
</BaseLayout>
